<div class="container">
  <div class="text-center mt-5">
    <h1>Update Ticket</h1>
  </div>

  <div class="row">
    <div class="col-lg-7 mx-auto">
      <div class="card mt-2 mx-auto p-4 bg-light">
        <div class="card-body bg-light">
          <div class="container">
            <form [formGroup]="ticketFields" (ngSubmit)="handleNewTicket()"
              id="contact-form"
              role="form"
            >
              <div class="controls">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="form_name">Firstname *</label>
                      <input
                        id="form_name"
                        type="text"
                        formControlName="firstname"
                        [(ngModel)]="ticketData.raisedBy"
                        class="form-control"
                        placeholder="Please enter your firstname *"
                        required="required"
                        data-error="Firstname is required."
                      />
                      <label
                        *ngIf="ticketData.raisedBy && ticketData.raisedBy.invalid && ticketData.raisedBy.touched"
                        style="color: red"
                        class="form-label"
                        for="form3Example3"
                        >First Name is required.</label
                      >
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="form_lastname">Lastname *</label>
                      <input
                        id="form_lastname"
                        type="text"
                        formControlName="lastname"
                        [(ngModel)]="ticketData.raisedBy"
                        class="form-control"
                        placeholder="Please enter your lastname *"
                        required="required"
                        data-error="Lastname is required."
                      />
                      <label
                      *ngIf="ticketData.raisedBy && ticketData.raisedBy.invalid && ticketData.raisedBy.touched"
                        style="color: red"
                        class="form-label"
                        for="form3Example3"
                        >Last Name is required.</label
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="form_email">Ticket Number *</label>
                      <input
                        id="form_email"
                        type="text"
                        formControlName="ticketTitle"
                        [(ngModel)]="ticketData.ticketNumber"
                        class="form-control"
                        placeholder="Please enter your ticket title *"
                        required="required"
                        data-error="Valid email is required."
                      />
                      <label
                      *ngIf="ticketData.ticketNumber && ticketData.ticketNumber.invalid && ticketData.ticketNumber.touched"
                        style="color: red"
                        class="form-label"
                        for="form3Example3"
                        >Ticket Number is required.</label
                      >
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="form_need">Select Category *</label>
                      <select
                        id="form_need"
                        formControlName="category"
                        [(ngModel)]="ticketData.ticketPriority"
                        class="form-control"
                        required="required"
                        data-error="Please specify your need."
                      >
                        <option value="" selected disabled>
                          --Select Your Priority--
                        </option>
                        <option>Very High</option>
                        <option>High</option>
                        <option>Medium</option>
                        <option>Low</option>
                      </select>
                      <label
                      *ngIf="ticketData.ticketPriority && ticketData.ticketPriority.invalid && ticketData.ticketPriority.touched"
                        style="color: red"
                        class="form-label"
                        for="form3Example3"
                        >Category is required.</label
                      >
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="form_need">Select Status *</label>
                      <select
                        id="form_need"
                        formControlName="status"
                        [(ngModel)]="ticketData.status"
                        class="form-control"
                        required="required"
                        data-error="Please specify your need."
                      >
                        <option value="" selected disabled>
                          --Select Ticket Status--
                        </option>
                        <option>Todo</option>
                        <option>In Progress</option>
                        <option>Resolved</option>
                        <option>Reopened</option>
                      </select>
                      <label
                      *ngIf="ticketData.status && ticketData.status.invalid && ticketData.status.touched"
                        style="color: red"
                        class="form-label"
                        for="form3Example3"
                        >Status is required.</label
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label for="form_message">Description of Ticket *</label>
                      <textarea
                        id="form_message"
                        formControlName="description"
                        [(ngModel)]="ticketData.ticketDesc"
                        class="form-control"
                        placeholder="Write your message here."
                        rows="4"
                        required="required"
                        data-error="Please, leave us a message."
                      ></textarea>
                      <label
                      *ngIf="ticketData.ticketDesc && ticketData.ticketDesc.invalid && ticketData.ticketDesc.touched"
                        style="color: red"
                        class="form-label"
                        for="form3Example3"
                        >Description is required.</label
                      >
                    </div>
                  </div>

                  <div class="col-md-6">
                    <input [disabled]="ticketData.invalid"
                      type="submit"
                      class="btn btn-success btn-send pt-2 btn-block"
                      value="Update"
                    />
                  </div>
                  <div class="col-md-6">
                    <input (click)="resetForm()"
                      type="submit"
                      class="btn btn-danger btn-send pt-2 btn-block"
                      value="Reset"
                    />
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
